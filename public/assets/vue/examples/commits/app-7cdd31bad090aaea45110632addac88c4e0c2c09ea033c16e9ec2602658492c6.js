var apiURL="https://api.github.com/repos/vuejs/vue/commits?per_page=3&sha=";new Vue({el:"#demo",data:{branches:["master","dev"],currentBranch:"master",commits:null},created:function(){this.fetchData()},watch:{currentBranch:"fetchData"},filters:{truncate:function(e){var t=e.indexOf("\n");return t>0?e.slice(0,t):e},formatDate:function(e){return e.replace(/T|Z/g," ")}},methods:{fetchData:function(){var e=this;if(navigator.userAgent.indexOf("PhantomJS")>-1)setTimeout(function(){e.commits=window.MOCKS[e.currentBranch]},0);else{var t=new XMLHttpRequest;t.open("GET",apiURL+e.currentBranch),t.onload=function(){e.commits=JSON.parse(t.responseText),console.log(e.commits[0].html_url)},t.send()}}}});