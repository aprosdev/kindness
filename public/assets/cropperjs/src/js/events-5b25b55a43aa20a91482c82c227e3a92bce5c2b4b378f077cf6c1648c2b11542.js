import{EVENT_CROP,EVENT_CROP_END,EVENT_CROP_MOVE,EVENT_CROP_START,EVENT_DBLCLICK,EVENT_POINTER_DOWN,EVENT_POINTER_MOVE,EVENT_POINTER_UP,EVENT_RESIZE,EVENT_WHEEL,EVENT_ZOOM}from"./constants";import{addListener,isFunction,removeListener}from"./utilities";export default{bind(){const{element:e,options:o,cropper:i}=this;isFunction(o.cropstart)&&addListener(e,EVENT_CROP_START,o.cropstart),isFunction(o.cropmove)&&addListener(e,EVENT_CROP_MOVE,o.cropmove),isFunction(o.cropend)&&addListener(e,EVENT_CROP_END,o.cropend),isFunction(o.crop)&&addListener(e,EVENT_CROP,o.crop),isFunction(o.zoom)&&addListener(e,EVENT_ZOOM,o.zoom),addListener(i,EVENT_POINTER_DOWN,this.onCropStart=this.cropStart.bind(this)),o.zoomable&&o.zoomOnWheel&&addListener(i,EVENT_WHEEL,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),o.toggleDragModeOnDblclick&&addListener(i,EVENT_DBLCLICK,this.onDblclick=this.dblclick.bind(this)),addListener(e.ownerDocument,EVENT_POINTER_MOVE,this.onCropMove=this.cropMove.bind(this)),addListener(e.ownerDocument,EVENT_POINTER_UP,this.onCropEnd=this.cropEnd.bind(this)),o.responsive&&addListener(window,EVENT_RESIZE,this.onResize=this.resize.bind(this))},unbind(){const{element:e,options:o,cropper:i}=this;isFunction(o.cropstart)&&removeListener(e,EVENT_CROP_START,o.cropstart),isFunction(o.cropmove)&&removeListener(e,EVENT_CROP_MOVE,o.cropmove),isFunction(o.cropend)&&removeListener(e,EVENT_CROP_END,o.cropend),isFunction(o.crop)&&removeListener(e,EVENT_CROP,o.crop),isFunction(o.zoom)&&removeListener(e,EVENT_ZOOM,o.zoom),removeListener(i,EVENT_POINTER_DOWN,this.onCropStart),o.zoomable&&o.zoomOnWheel&&removeListener(i,EVENT_WHEEL,this.onWheel,{passive:!1,capture:!0}),o.toggleDragModeOnDblclick&&removeListener(i,EVENT_DBLCLICK,this.onDblclick),removeListener(e.ownerDocument,EVENT_POINTER_MOVE,this.onCropMove),removeListener(e.ownerDocument,EVENT_POINTER_UP,this.onCropEnd),o.responsive&&removeListener(window,EVENT_RESIZE,this.onResize)}};