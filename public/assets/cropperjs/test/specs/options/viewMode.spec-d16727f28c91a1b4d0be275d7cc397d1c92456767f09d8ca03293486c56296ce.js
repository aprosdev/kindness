describe("viewMode (option)",()=>{it("should not have any restrictions by default",e=>{const t=window.createImage(),o=new Cropper(t,{ready(){const t={left:100,top:100,width:160,height:90},a=o.setCanvasData(t).getCanvasData();expect(a.left).to.equal(t.left),expect(a.top).to.equal(t.top),expect(a.width).to.equal(t.width),expect(a.height).to.equal(t.height),e()}});expect(o.options.viewMode).to.equal(0)}),it("should restrict the crop box to not exceed the size of the canvas",e=>{const t=window.createImage(),o=new Cropper(t,{viewMode:1,ready(){let t=o.zoom(-.5).getCanvasData(),a=o.getCropBoxData();expect(t.width).to.be.least(a.width),expect(t.height).to.be.least(a.height),t=o.clear().moveTo(-160,-90).getCanvasData(),a=o.crop().setCropBoxData({width:t.naturalWidth,height:t.naturalHeight}).getCropBoxData(),expect(t.width).to.be.above(a.width),expect(t.height).to.be.above(a.height),e()}});expect(o.options.viewMode).to.equal(1)}),it("should restrict the minimum canvas size to fit within the container.",e=>{const t=window.createImage(),o=new Cropper(t,{viewMode:2,ready(){const t=o.zoom(-.5).getCanvasData(),a=o.getContainerData();expect(t.width>=a.width||t.height>=a.height).to.be["true"],e()}});expect(o.options.viewMode).to.equal(2)}),it("should restrict the minimum canvas size to full fit the container.",e=>{const t=window.createImage(),o=new Cropper(t,{viewMode:3,ready(){const t=o.zoom(-.5).getCanvasData(),a=o.getContainerData();expect(t.left).to.be.most(0),expect(t.top).to.be.most(0),expect(t.width).to.be.least(a.width),expect(t.height).to.be.least(a.height),e()}});expect(o.options.viewMode).to.equal(3)})});